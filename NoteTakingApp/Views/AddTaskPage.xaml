<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:NoteTakingApp.ViewModels"
             xmlns:system="clr-namespace:System;assembly=netstandard"
             x:DataType="vm:AddTaskViewModel"
             x:Class="NoteTakingApp.Views.AddTaskPage"
             Title="New Task"
             BackgroundColor="#F8FAFC">

    <Grid Padding="24,20" RowSpacing="24" RowDefinitions="Auto, *, Auto">
        <Label Text="Create New Task"
               FontSize="28"
               FontAttributes="Bold"
               TextColor="#1E293B" />

        <VerticalStackLayout Grid.Row="1" Spacing="20">
            <VerticalStackLayout Spacing="8">
                <Label Text="Task Name" TextColor="#64748B" FontSize="14" FontAttributes="Bold"/>
                <Border StrokeThickness="0"
                        BackgroundColor="White"
                        Padding="16,4"
                        HeightRequest="56">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="12" />
                    </Border.StrokeShape>
                    <Border.Shadow>
                        <Shadow Brush="Black" Opacity="0.05" Radius="4" Offset="0,2" />
                    </Border.Shadow>
                    <Entry Text="{Binding TaskTitle}"
                           Placeholder="What needs to be done?"
                           FontSize="16"
                           TextColor="#1E293B" />
                </Border>
            </VerticalStackLayout>

            <VerticalStackLayout Spacing="8">
                <Label Text="Due Date" TextColor="#64748B" FontSize="14" FontAttributes="Bold"/>
                <Border StrokeThickness="1"
                        Stroke="#E2E8F0"
                        BackgroundColor="White"
                        Padding="16,12"
                        HeightRequest="56">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="12" />
                    </Border.StrokeShape>
                    <Border.Shadow>
                        <Shadow Brush="Black" Opacity="0.05" Radius="4" Offset="0,2" />
                    </Border.Shadow>
                    <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="12">
                        <Label Text="ðŸ“…" 
                               FontSize="20"
                               VerticalOptions="Center"
                               TextColor="#6366F1"/>
                        <DatePicker Grid.Column="1"
                                    Date="{Binding TaskDate}"
                                    Format="MMMM dd, yyyy"
                                    HorizontalOptions="Fill"
                                    VerticalOptions="Center"
                                    FontSize="16"
                                    FontAttributes="Bold"
                                    TextColor="#000000"
                                    BackgroundColor="#F8FAFC"
                                    MinimumDate="{x:Static system:DateTime.Now}" />
                        <Label Grid.Column="2"
                               Text="â–¼"
                               FontSize="12"
                               VerticalOptions="Center"
                               TextColor="#64748B"/>
                    </Grid>
                </Border>
            </VerticalStackLayout>

            <VerticalStackLayout Spacing="8">
                <Label Text="Details (Optional)" TextColor="#64748B" FontSize="14" FontAttributes="Bold"/>
                <Border StrokeThickness="0"
                        BackgroundColor="White"
                        Padding="16,12"
                        HeightRequest="160"
                        VerticalOptions="Start">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="12" />
                    </Border.StrokeShape>
                    <Border.Shadow>
                        <Shadow Brush="Black" Opacity="0.05" Radius="4" Offset="0,2" />
                    </Border.Shadow>
                    <Editor Text="{Binding TaskDescription}"
                            Placeholder="Add extra details..."
                            FontSize="15"
                            TextColor="#334155"
                            AutoSize="TextChanges"/>
                </Border>
            </VerticalStackLayout>
        </VerticalStackLayout>

        <Grid Grid.Row="2" ColumnDefinitions="*,*" ColumnSpacing="16">
            <Button Text="Cancel"
                    Command="{Binding CancelCommand}"
                    BackgroundColor="White"
                    TextColor="#64748B"
                    FontAttributes="Bold"
                    CornerRadius="12"
                    HeightRequest="52"
                    BorderColor="#E2E8F0"
                    BorderWidth="1"/>

            <Button Grid.Column="1"
                    Text="Save Task"
                    Command="{Binding SaveTaskCommand}"
                    BackgroundColor="#6366F1"
                    TextColor="White"
                    FontAttributes="Bold"
                    CornerRadius="12"
                    HeightRequest="52">
                <Button.Shadow>
                    <Shadow Brush="#6366F1" Opacity="0.3" Radius="8" Offset="0,4"/>
                </Button.Shadow>
            </Button>
        </Grid>
    </Grid>
</ContentPage>