<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:NoteTakingApp.ViewModels"
             x:DataType="viewModels:NoteDetailsViewModel"
             x:Class="NoteTakingApp.Views.NoteDetailsPage"
             BackgroundColor="#F8FAFC">

    <Grid RowDefinitions="Auto, *" Padding="24,20" RowSpacing="20">
        <Grid Grid.Row="0" ColumnDefinitions="Auto, *, Auto">
            <Border StrokeThickness="0"
                    BackgroundColor="White"
                    Padding="12"
                    HorizontalOptions="Start">
                <Border.Shadow>
                    <Shadow Brush="Black" Opacity="0.05" Radius="10" Offset="0,2" />
                </Border.Shadow>
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="12" />
                </Border.StrokeShape>
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding GoBackCommand}" />
                </Border.GestureRecognizers>
                <Label Text="â†" 
                       FontSize="20" 
                       FontAttributes="Bold"
                       TextColor="#1E293B"/>
            </Border>

            <Border Grid.Column="2"
                    StrokeThickness="0"
                    BackgroundColor="#6366F1"
                    Padding="16,8"
                    HorizontalOptions="End">
                <Border.Shadow>
                    <Shadow Brush="#6366F1" Opacity="0.3" Radius="10" Offset="0,4" />
                </Border.Shadow>
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="12" />
                </Border.StrokeShape>
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding EditNoteCommand}" />
                </Border.GestureRecognizers>
                <Label Text="Edit" 
                       TextColor="White" 
                       FontAttributes="Bold"/>
            </Border>
        </Grid>

        <ScrollView Grid.Row="1">
            <VerticalStackLayout Spacing="16">
                <Label Text="{Binding Title}"
                       FontSize="28"
                       FontAttributes="Bold"
                       TextColor="#1E293B" />
                
                <Label Text="{Binding Date, StringFormat='Last modified: {0:MMM dd, yyyy HH:mm}'}"
                       FontSize="13"
                       TextColor="#94A3B8" />

                <BoxView HeightRequest="1" 
                         Color="#E2E8F0" />
                
                <Label Text="{Binding Text}"
                       FontSize="16"
                       TextColor="#475569"
                       LineHeight="1.5" />
            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
